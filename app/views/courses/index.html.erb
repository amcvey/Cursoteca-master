


<form>
  <input name="query" id="q"  <%= @q %> >
  <button type="submit"> Buscar</button>
</form>

<h1>Listing Courses</h1>

<table>
  <thead>
    <tr>
      <th>Photo</th>
      <th>Title</th>
      <th>Place</th>
      <th>Description</th>
      <th>Punctuation</th>
      <th>Price</th>
      <th>Category</th>
      <th>Address</th>
      <th colspan="3"></th>
    </tr>
  </thead>


  <tbody id='courses'>

    <%= render partial: "courses/course", collection: @courses %>
            
  </tbody>

</table>

<br>

<%= paginate @courses %>

<%= link_to 'New Course', new_course_path %>

<script>

$(q).on('keyup', function(event) {
  var query = this.value;
  $.ajax({
    url: '<%= courses_path %>',
    type: 'GET',
    dataType: 'script',
    data: {q: query},
  })
  .done(function() {
    console.log("success");
  })
  .fail(function() {
    console.log("error");
  })
  .always(function() {
    console.log("complete");
  });
});
 

</script>



